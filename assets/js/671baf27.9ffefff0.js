"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[256],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(n),h=r,m=u["".concat(p,".").concat(h)]||u[h]||d[h]||o;return n?a.createElement(m,i(i({ref:t},c),{},{components:n})):a.createElement(m,i({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5859:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var a=n(7462),r=(n(7294),n(3905));const o={title:"Adding text selection action in Flutter for android",description:"A guide on adding ACTION_PROCESS_TEXT in Flutter",slug:"action-process-text-flutter",authors:["karthikn"],tags:["action_process_text","flutter","android"],image:"./action-process-text-flutter-cover.png",hide_table_of_contents:!1},i=void 0,l={permalink:"/blog/action-process-text-flutter",editUrl:"https://github.com/coder-with-a-bushido/portfolio/blog/2020-09-23-action-process-text/2020-09-23-action-process-text.mdx",source:"@site/blog/2020-09-23-action-process-text/2020-09-23-action-process-text.mdx",title:"Adding text selection action in Flutter for android",description:"A guide on adding ACTION_PROCESS_TEXT in Flutter",date:"2020-09-23T00:00:00.000Z",formattedDate:"September 23, 2020",tags:[{label:"action_process_text",permalink:"/blog/tags/action-process-text"},{label:"flutter",permalink:"/blog/tags/flutter"},{label:"android",permalink:"/blog/tags/android"}],readingTime:2.04,hasTruncateMarker:!0,authors:[{name:"Karthikeyan S",title:"Software Dev + Writer",url:"https://twitter.com/_KarthikeyanS_",key:"karthikn"}],frontMatter:{title:"Adding text selection action in Flutter for android",description:"A guide on adding ACTION_PROCESS_TEXT in Flutter",slug:"action-process-text-flutter",authors:["karthikn"],tags:["action_process_text","flutter","android"],image:"./action-process-text-flutter-cover.png",hide_table_of_contents:!1},prevItem:{title:"Deploy and maintain your Flutter Web build exclusively in GitHub Pages",permalink:"/blog/host-flutter-web-build"}},p={image:n(7873).Z,authorsImageUrls:[void 0]},s=[],c={toc:s};function d(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Have you ever wanted to give your user a shortcut, for opening the selected text in your flutter app from anywhere in the android environment?\nLike this:\n",(0,r.kt)("img",{alt:"Cover",src:n(7873).Z,width:"1400",height:"594"})),(0,r.kt)("p",null,"If yes, then you got yourself to the right place. In this article, I'm going to talk about how this can be implemented in flutter with the help of a pub plugin ",(0,r.kt)("a",{parentName:"p",href:"https://pub.dev/packages/action_process_text"},(0,r.kt)("inlineCode",{parentName:"a"},"action_process_text")),", I wrote."),(0,r.kt)("p",null,"Let's get started.\nFirst, let's create our flutter project."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"flutter create action_process_text_example")),(0,r.kt)("p",null,"Now, in the ",(0,r.kt)("inlineCode",{parentName:"p"},"pubspec.yaml")," file, add the package"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"dependencies:\n  action_process_text: <latest version>\n")),(0,r.kt)("p",null,"Run pub get and get packages."),(0,r.kt)("p",null,"Now add the following code to ",(0,r.kt)("inlineCode",{parentName:"p"},"AndroidManifest.xml")," file in the ",(0,r.kt)("inlineCode",{parentName:"p"},"android\\app\\src\\main")," folder just after the main activity."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<activity android:name="com.example.action_process_text.ActionProcessTextPlugin"\n          android:label="Action_Text"\n          android:theme="@style/LaunchTheme">\n         <intent-filter>\n             <action\n               android:name="android.intent.action.PROCESS_TEXT" />\n               <data android:mimeType="text/plain"/>\n               <category\n               android:name="android.intent.category.DEFAULT" />\n         </intent-filter>\n</activity>\n')),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"android:label")," here is the String that will be displayed on selecting the text. So, change that to something relevant to what your app does."),(0,r.kt)("p",null,"Now that we have completed all the setup, let's take a look at the usage."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Import the package.")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"import 'package:action_process_text/action_process_text.dart';")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Write an async function for starting up the plugin in the Constructor of the ",(0,r.kt)("inlineCode",{parentName:"li"},"StatefulWidget"),", which will assign the selected text to a variable with the help of await.")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"This package currently works only in a ",(0,r.kt)("inlineCode",{parentName:"p"},"StatefulWidget")," as ",(0,r.kt)("inlineCode",{parentName:"p"},"setState()")," has to be called.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"class SelectedTextViewPage extends StatefulWidget {\n  @override\n  _SelectedTextViewPageState createState() => _SelectedTextViewPageState();\n}\n\nclass _SelectedTextViewPageState extends State<SelectedTextViewPage> {\n  _SelectedTextViewPageState() {\n    initActionProcessText();\n  }\n\n  Future<void> initActionProcessText() async {\n    inputText = await ActionProcessText.getInputText;\n    setState(() {});\n  }\n\n  String inputText = '';\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: Text('Selected Text: $inputText', ),\n         ),\n    );\n  }\n}\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"ActionProcessText.getInputText")," is used to get the selected text when the action is performed, otherwise return a blank space ",(0,r.kt)("inlineCode",{parentName:"p"},'""')," . It returns a future, so await should be used in a variable declaration."),(0,r.kt)("p",null,"Then, ",(0,r.kt)("inlineCode",{parentName:"p"},"setState()")," is performed to rebuild the page, as it would have already started building, without waiting for the ",(0,r.kt)("inlineCode",{parentName:"p"},"inputText")," to get the future."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"inputText")," can also be re-used for other purposes when the action is not performed, and ",(0,r.kt)("inlineCode",{parentName:"p"},"InputTextController")," can also be used instead."),(0,r.kt)("p",null,"This is how it should look like,"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Demo",src:n(3673).Z,width:"320",height:"569"})),(0,r.kt)("p",null,"You can find this example project on my repository in GitHub: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/coder-with-a-bushido/action_process_text_example"},"action_process_text_example"),"."),(0,r.kt)("p",null,"Drop a like on the package in pub.dev: ",(0,r.kt)("a",{parentName:"p",href:"https://pub.dev/packages/action_process_text"},"action_process_text")," with the source code available on ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/coder-with-a-bushido/ACTION_PROCESS_TEXT-Flutter"},"GitHub"),"."),(0,r.kt)("p",null,"Feel free to report issues/bugs and help me in making the package more awesome."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"HAPPY CODING!")))}d.isMDXComponent=!0},7873:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/action-process-text-flutter-cover-316b077ed0883daed87ee51922b6816a.png"},3673:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/action-process-text-flutter-demo-982648069a4821e919af6dc5010a7412.gif"}}]);